# Headless Deployment Configuration Example
# Copy this file to .env and modify values as needed

# =============================================================================
# DEPLOYMENT MODE CONFIGURATION
# =============================================================================

# Deployment modes: web_ui, headless, hybrid
DEPLOYMENT_MODE=headless

# Enable/disable specific components
ENABLE_WEB_UI=false
ENABLE_BACKGROUND_PROCESSING=true

# Port configuration
WEB_UI_PORT=8001
API_ONLY_PORT=8002

# =============================================================================
# BACKGROUND PROCESSING CONFIGURATION
# =============================================================================

# Processing modes: continuous, interval, triggered
BACKGROUND_PROCESSING_MODE=interval

# Frame processing settings
BACKGROUND_FRAME_SKIP=5
BACKGROUND_PROCESSING_INTERVAL=0.5
BACKGROUND_MAX_QUEUE_SIZE=100
BACKGROUND_BATCH_SIZE=10
BACKGROUND_HEALTH_CHECK_INTERVAL=30.0
ENABLE_BACKGROUND_METRICS=true

# =============================================================================
# OUTPUT CHANNELS CONFIGURATION
# =============================================================================

# Enable/disable output channels
ENABLE_STORAGE_OUTPUT=true
ENABLE_WEBSOCKET_OUTPUT=false
ENABLE_API_OUTPUT=true
ENABLE_WEBHOOK_OUTPUT=false

# Webhook configuration (if enabled)
WEBHOOK_URL=http://your-external-service.com/api/detections
WEBHOOK_TIMEOUT=5.0

# =============================================================================
# CAMERA CONFIGURATION
# =============================================================================

# Camera device (0 for default USB camera, or RTSP URL)
CAMERA_ID=0
CAMERA_WIDTH=1280
CAMERA_HEIGHT=720
CAMERA_FPS=30

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================

# YOLO model path and settings
MODEL_PATH=app/models/yolo11m_best.pt
MODEL_CONFIDENCE=0.5
MODEL_DEVICE=auto

# Detection thresholds
CONFIDENCE_THRESHOLD=0.5
MIN_OCR_CONFIDENCE=0.3
COOLDOWN_PERIOD=5.0

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# File paths
KNOWN_PLATES_FILE=data/known_plates.json
RESULTS_OUTPUT_DIR=data/license_plates
ENHANCED_PLATES_DIR=data/enhanced_plates

# Database
DATABASE_URL=sqlite+aiosqlite:///data/license_plates.db
ENABLE_DATABASE_BACKUP=true
BACKUP_INTERVAL_HOURS=24

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Processing limits
MAX_CONCURRENT_DETECTIONS=5
MAX_FRAME_BUFFER_SIZE=30
ENABLE_GPU_ACCELERATION=true

# Batch processing
BATCH_SIZE=10
PROCESS_INTERVAL=0.5

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

LOG_LEVEL=INFO
ENABLE_PERFORMANCE_LOGGING=true
LOG_FILE=logs/app.log

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS settings
ENABLE_CORS=true
CORS_ORIGINS=["*"]

# API security (optional)
API_KEY=your-secret-api-key
REQUIRE_API_KEY=false

# =============================================================================
# JETSON NANO OPTIMIZATIONS
# =============================================================================

# Optimized settings for Jetson Nano deployment
# Uncomment and adjust these values for embedded deployment

# Lower resource usage
# BACKGROUND_FRAME_SKIP=10
# CAMERA_WIDTH=640
# CAMERA_HEIGHT=480
# BACKGROUND_MAX_QUEUE_SIZE=50
# MAX_CONCURRENT_DETECTIONS=2
# ENABLE_BACKGROUND_METRICS=false

# Use GPU acceleration
# MODEL_DEVICE=cuda
# ENABLE_GPU_ACCELERATION=true